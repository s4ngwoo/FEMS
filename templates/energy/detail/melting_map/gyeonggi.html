{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="pageItemWrapper">
      <div class="pagecontent">
        <p id="gyeonggi"></p>
        <img
          src="{% static 'energy/map/map_gyeonggi.png' %}"
          alt="gyeonggi"
          class="map"
        />
        <p class="pageItem" id="item"></p>
      </div>
      <div class="chart">
        <div class="textBox">
          <div class="rectangle"></div>
          <div class="text">
            업종 시도별 해당 업종 기업수<br />
            (2023년)<br />
            *해당업종 전체기업수
          </div>
        </div>
        <div class="card">
          <div>
            <div class="cardHeader">
              <p class="cardTitle">경기</p>
              <p class="cardSub">
                종업원 규모별 기업수
              </p>
            </div>
            <div class="cardBoldLine"></div>
          </div>
          <table id="table2">
            <thead id="tableChart1">
              <tr>
                <th>종업원수</th>
                <th>해당 종업원<br />규모 기업수</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>

          <table id="table3">
            <thead id="tableChart1">
              <tr>
                <th>규모</th><th>해당 규모별 기업수</th>
              </tr>
            </thead>

            <tbody id="tbody3"></tbody>
          </table>
          <p class="cardDescription">
            총 <span id="totalValue2" class="bold"></span> 명의 종업원이
            있습니다.
          </p>
        </div>
      </div>
    </div>
  </body>
  <script>
  function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}
  let gyeonggiPerson = personData.gyeonggi;
    let gyeonggiCompany = companyData.gyeonggi;

    let tableBody2 = document.querySelector('#table2 tbody');
    let constants2 = gyeonggiPerson;

    for (table2Item in constants2) {
      if (table2Item !== '총합계') {
        let row = document.createElement('tr');
        row.innerHTML =
          '<td>' + table2Item + '</td><td>' + constants2[table2Item] + '</td>';
        tableBody2.appendChild(row);
      }
    }

    let tableBody3 = document.querySelector('#tbody3');
    let constants3 = gyeonggiCompany;

    for (table3Item in constants3) {
      if (table3Item !== '총합계') {
        let row = document.createElement('tr');
        row.innerHTML =
          '<td>' + table3Item + '</td><td>' + constants3[table3Item] + '</td>';
        tableBody3.appendChild(row);
      }
    }
  </script>
</html>
