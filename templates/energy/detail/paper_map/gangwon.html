{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="pageItemWrapper">
      <div class="pagecontent">
        <img
          src="{% static 'energy/map/map_gangwon.png' %}"
          alt="gangwon"
          class="map"
        />
        <div class="pageItem gangwon">
          <img src="{% static 'energy/images/ping.png' %}" alt="ping" />
          <p class="pageName">강원</p>
          <p class="pageNum" id="item"></p>
        </div>
      </div>
      <div class="chart">
        <div class="textBox">
          <div class="rectangle"></div>
          <div class="text">
            업종 시도별 해당 업종 기업수<br />
            (2023년)<br />
            *해당업종 전체기업수
          </div>
        </div>
        <div class="card">
          <div>
            <div class="cardHeader">
              <p class="cardTitle">강원</p>
              <p class="cardSub">종업원 규모별 기업수</p>
            </div>
            <div class="cardBoldLine"></div>
          </div>
          <table id="table2">
            <thead id="tableChart1">
              <tr>
                <th>종업원수</th>
                <th>해당 종업원<br />규모 기업수</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>

          <table id="table3">
            <thead id="tableChart1">
              <tr>
                <th>규모</th>
                <th>해당 규모별 기업수</th>
              </tr>
            </thead>
            <tbody id="tbody3"></tbody>
          </table>
          <p class="cardDescription">
            총 <span id="totalValue2" class="bold"></span> 개 기업이 있습니다.
          </p>
        </div>
      </div>
    </div>
  </body>
  <script>
    function numberWithCommas(x) {
      return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    }
    var tableBody2 = document.querySelector('#table2 tbody');
    var constants2 = gangwonPerson;

    for (table2Item in constants2) {
      if (table2Item !== '총합계') {
        var row = document.createElement('tr');
        row.innerHTML =
          '<td>' + numberWithCommas(table2Item) + '</td><td>' + numberWithCommas(constants2[table2Item]) + '</td>';
        tableBody2.appendChild(row);
      }
    }

    var tableBody3 = document.querySelector('#tbody3');
    var constants3 = gangwonCompany;

    for (table3Item in constants3) {
      if (table3Item !== '총합계') {
        var row = document.createElement('tr');
        row.innerHTML =
          '<td>' + numberWithCommas(table3Item) + '</td><td>' + numberWithCommas(constants3[table3Item]) + '</td>';
        tableBody3.appendChild(row);
      }
    }

    var total2 = constants3.총합계;
    $('#totalValue2').text(total2);

    if (gangwonValue !== null) {
      $(document).ready(function () {
        // 데이터를 추가할 HTML 요소를 선택하고 데이터를 추가합니다.
        $('#item').append(numberWithCommas(gangwonValue));
      });
    }
  </script>
</html>
